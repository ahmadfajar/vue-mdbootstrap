@use '../../../scss/variables' as vars;

@layer components {
  .#{vars.$prefix}mask-loader {
    display: flex;
    align-items: center;
    justify-content: center;
    left: 0;
    top: 0;
    right: 0;
    max-height: 100%;
    width: 100%;
    height: 100%;
    position: absolute;
  }

  .#{vars.$prefix}spinner-grow,
  .#{vars.$prefix}spinner-border {
    display: inline-block;
    border-radius: 50%;
    width: var(--#{vars.$prefix}spinner-width);
    height: var(--#{vars.$prefix}spinner-height);
    vertical-align: var(--#{vars.$prefix}spinner-vertical-align);
    // prettier-ignore
    animation: var(--#{vars.$prefix}spinner-animation-speed) linear infinite var(--#{vars.$prefix}spinner-animation-name);
  }

  .#{vars.$prefix}spinner-border {
    --#{vars.$prefix}spinner-width: #{vars.$spinner-width};
    --#{vars.$prefix}spinner-height: #{vars.$spinner-height};
    --#{vars.$prefix}spinner-vertical-align: #{vars.$spinner-vertical-align};
    --#{vars.$prefix}spinner-border-width: #{vars.$spinner-border-width};
    --#{vars.$prefix}spinner-animation-speed: #{vars.$spinner-animation-speed};
    --#{vars.$prefix}spinner-animation-name: spinner-border;

    border: var(--#{vars.$prefix}spinner-border-width) solid currentcolor;
    border-right-color: transparent;
  }

  .#{vars.$prefix}spinner-grow {
    --#{vars.$prefix}spinner-width: #{vars.$spinner-width};
    --#{vars.$prefix}spinner-height: #{vars.$spinner-height};
    --#{vars.$prefix}spinner-vertical-align: #{vars.$spinner-vertical-align};
    --#{vars.$prefix}spinner-animation-speed: #{vars.$spinner-animation-speed};
    --#{vars.$prefix}spinner-animation-name: spinner-grow;

    background-color: currentcolor;
    opacity: 0;
  }

  @media (prefers-reduced-motion: reduce) {
    .#{vars.$prefix}spinner-border,
    .#{vars.$prefix}spinner-grow {
      --#{vars.$prefix}spinner-animation-speed: #{vars.$spinner-animation-speed * 2};
    }
  }
}

@layer animations {
  @keyframes spinner-border {
    to {
      transform: rotate(360deg);
    }
  }

  @keyframes spinner-grow {
    0% {
      transform: scale(0);
    }
    50% {
      opacity: 1;
      transform: none;
    }
  }
}

/* BsProgress mixins - backward compatibility */
@mixin progress-bar-indeterminate($color) {
    background-color: rgba($color, .24);

    .#{$prefix}progress-bar-track,
    .#{$prefix}progress-bar-fill {
        &:after {
            background-color: $color;
        }
    }
}

@mixin progress-bar-determinate($color) {
    background-color: rgba($color, .24);

    .#{$prefix}progress-bar-fill {
        background-color: $color;
    }
}

@mixin progress-bar-buffer($color) {
    .#{$prefix}progress-bar-fill {
        background-color: $color;
    }

    .#{$prefix}progress-bar-track {
        background-color: rgba($color, .38);
    }

    .#{$prefix}progress-bar-buffer {
        border-color: rgba($color, .38);
    }
}

@mixin make-progress-bar($name, $color) {
    .progress-bar-#{$name} {
        &.#{$prefix}indeterminate {
            @include progress-bar-indeterminate($color);
        }

        &.#{$prefix}determinate {
            @include progress-bar-determinate($color);
        }

        &.#{$prefix}buffer {
            @include progress-bar-buffer($color);
        }
    }
}

@mixin make-progress-spinner($name, $color) {
    .spinner-#{$name} {
        .#{$prefix}progress-spinner-circle {
            stroke: $color;
        }
    }
}

/* BsProgress mixins - SASS variables */

@mixin make-progress-bar-vars() {
    &.#{$prefix}indeterminate {
        background-color: var(--#{$prefix}progress-bar-bg);

        > .#{$prefix}progress-bar-track,
        > .#{$prefix}progress-bar-fill {
            &:after {
                background-color: var(--#{$prefix}progress-bar-bg-after);
            }
        }
    }

    &.#{$prefix}determinate {
        background-color: var(--#{$prefix}progress-bar-bg);

        > .#{$prefix}progress-bar-fill {
            background-color: var(--#{$prefix}progress-bar-fill-bg);
        }
    }

    &.#{$prefix}buffer {
        .#{$prefix}progress-bar-fill {
            background-color: var(--#{$prefix}progress-bar-fill-bg);
        }

        .#{$prefix}progress-bar-track {
            background-color: var(--#{$prefix}progress-bar-track-bg);
        }

        .#{$prefix}progress-bar-buffer {
            border-color: var(--#{$prefix}progress-bar-buffer-border-color);
        }
    }
}

@mixin make-progress-bar-variant($name, $color) {
    $color-rgb: to-rgb($color);
    .progress-bar-#{$name} {
        --#{$prefix}progress-bar-bg: rgba(#{$color-rgb}, .24);
        --#{$prefix}progress-bar-fill-bg: #{$color};
        --#{$prefix}progress-bar-track-bg: rgba(#{$color-rgb}, .38);
        --#{$prefix}progress-bar-buffer-border-color: rgba(#{$color-rgb}, .38);

        &.#{$prefix}indeterminate {
            > .#{$prefix}progress-bar-track,
            > .#{$prefix}progress-bar-fill {
                &:after {
                    --#{$prefix}progress-bar-bg-after: #{$color};
                }
            }
        }
    }
}
